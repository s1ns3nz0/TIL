# Cloud Natvie Spring in Action
## Spring 구조 학습
catalog-service/
├── src/
│   ├── main/
│   │   ├── java/              # 자바 코드가 들어가는 곳
│   │   │   └── com/polarbookshop/catalog/
│   │   │       ├── CatalogServiceApplication.java  # 메인 클래스
│   │   │       ├── domain/    # 비즈니스 로직
│   │   │       ├── web/       # 컨트롤러 (API)
│   │   │       └── config/    # 설정 파일들
│   │   └── resources/         # 설정 파일, 정적 파일
│   │       └── application.yml
│   └── test/                  # 테스트 코드
├── build.gradle               # Gradle 설정 파일
└── settings.gradle

### 용어 정리
- 도메인: 비즈니스의 핵심 개념
- 패키지: 코드를 정리하는 폴더
## 3. 패키지 (Package)
```
코드를 정리하는 폴더
com.polarbookshop.catalog
├── domain/           # 도메인 객체들 (Book, Author 등)
├── web/              # 웹 관련 (Controller, DTO) > 표현 계층
├── service/          # 비즈니스 로직 처리 (Service) > 핵심 로직
├── repository/       # 데이터베이스 접근 (Repository) > 데이터 저장
└── config/           # 설정 클래스들
```
- 인터페이스: 이런 기능이 있어야 해라는 약속(리모콘은 볼륨 조절, 채널 변경 버튼이 있어야 해)
- 구현체: 실제로 구현되어 약속을 지키는 법(삼성 리모콘은 이렇게, LG 리모콘은 이렇게)
## 3. 클라우드 네이티브 개발 시작
#### 3.3.2 스프링 MVC를 이용한 REST API 구현
- 스프링 MVC는 @RestController 클래스를 통해 특정 HTTP 메소드 및 리소스 엔드포인트에 대해 들어오는 HTTP 요청을 처리한다.
#### 3.3.3 데이터 유효성 검사 및 오류 처리
- 자바 빈 유효성 검사는 애너테이션을 통해 자바 객체에 대한 제약 조건 및 유효성 검사 규칙을 표현하기 위해 많이 사용하는 규격이다.
- REST API의 오류를 처리하려면 자바 표준 예외를 사용하고 @RestControllerAdvice 클래스를 통해 주어진 예외가 발생할 때 어떤 작업을 수행할 지 정의하면 된다.
#### 3.3.4 미래 요구 사항을 위해 진화하는 API
- 분산 시스템에서는 다른 애플리케이션의 기능에 악영향을 미치지 않고 API를 변경하고 발전해나갈 수 있는 계획이 필요하다.
- 때로는 어쩔 수 없이 클라이언트에 영향을 끼치는 변경을 해야 할 때도 많다. 이 경우에는 API 버저닝을 사용할 수 있다.